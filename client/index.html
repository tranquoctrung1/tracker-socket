<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>T√¢n Hi·ªáp - B·∫£n ƒê·ªì Theo D√µi V·ªã Tr√≠ Tr·ª±c Tuy·∫øn</title>

        <link rel="stylesheet" href="./styles/style.css" />

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"
            type="text/javascript"
        ></script>
    </head>

    <body>
        <main id="main-content">
            <header id="map-header">
                <h1 id="map-title">T·∫ßng Tr·ªát</h1>
                <div id="status">ƒêang t·∫£i...</div>

                <div id="alert-bell-container">
                    <span id="alert-counter" class="hidden">0</span>
                    <button id="alert-bell-btn">üîî</button>
                </div>
            </header>
            <div id="alert-popup" class="hidden">
                <div id="alert-popup-header">
                    L·ªãch S·ª≠ C·∫£nh B√°o Geofencing
                    <button id="close-popup-btn">X</button>
                </div>

                <div id="alert-filter" class="filter-section">
                    <label for="alert-date-filter">L·ªçc theo ng√†y:</label>
                    <input type="date" id="alert-date-filter" />
                    <button id="clear-filter-btn">X√≥a L·ªçc</button>
                    <button onclick="onReloadClicked()">
                        T·∫£i l·∫°i c·∫£nh b√°o
                    </button>
                </div>

                <div id="alert-history-content"></div>
            </div>
            <section id="map-area">
                <div id="map-container">
                    <img
                        id="floor-plan"
                        src="./asset/floor_plan_Tret.png"
                        alt="S∆° ƒë·ªì m·∫∑t b·∫±ng"
                    />
                </div>
            </section>

            <footer id="floor-control">
                <div>
                    <!--<button class="floor-btn active" data-floor="T·∫ßng 3">
                        T·∫ßng 3
                    </button>
                    <button class="floor-btn" data-floor="T·∫ßng 4">
                        T·∫ßng 4
                    </button>-->
                    <button class="floor-btn active" data-floor="T·∫ßng Tr·ªát">
                        T·∫ßng Tr·ªát
                    </button>
                </div>
                <div>
                    <button
                        class="floor-btn"
                        onclick="onChangeBeaconPageClicked()"
                    >
                        Khai b√°o beacon
                    </button>
                    <button
                        class="floor-btn"
                        onclick="onChangeTrackerPageClicked()"
                    >
                        Qu·∫£n l√Ω tracker
                    </button>
                    <button
                        class="floor-btn"
                        onclick="onChangeAlarmAreaPageClicked()"
                    >
                        Khai b√°o khu v·ª±c c√°nh b√°o
                    </button>
                </div>
            </footer>
        </main>

        <aside id="sidebar-panel">
            <div class="sidebar-title">Kh√°ch V√£ng Lai Tr·ª±c Tuy·∫øn</div>

            <!-- TH√äM √î T√åM KI·∫æM M·ªöI -->
            <div id="guest-search-container">
                <input
                    type="text"
                    id="guest-search-input"
                    placeholder="T√¨m ki·∫øm theo T√™n, ID, Ph√≤ng..."
                />
            </div>
            <!-- K·∫æT TH√öC √î T√åM KI·∫æM -->

            <div id="guest-list">
                <p>ƒêang ch·ªù d·ªØ li·ªáu k·∫øt n·ªëi...</p>
            </div>

            <div id="guest-history-panel">
                <div class="history-title">L·ªãch S·ª≠ Di Chuy·ªÉn</div>
                <div id="history-content">
                    <p class="history-placeholder">
                        Ch·ªçn m·ªôt kh√°ch ƒë·ªÉ xem l·ªãch s·ª≠.
                    </p>
                </div>
            </div>
        </aside>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="./js/hostname.js"></script>
        <script src="./js/main.js"></script>
        <script src="./js/socket.js"></script>
        <!-- <script src="./js/test.js"></script> -->
    </body>
</html>
